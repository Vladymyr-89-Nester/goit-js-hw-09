{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.feedback-form')\n\nlet formData = {\n    email: \"\",\n    message: \"\",\n}\n\nconst loadFeedbackForm = () => {\n    const localStorageData = JSON.parse(localStorage.getItem(\"feedback-form-state\"))\n\n    if (localStorageData === null) return\n    const localStorageKeys = Object.keys(localStorageData)\n\n    formData = { ...formData, ...localStorageData }\n\n    localStorageKeys.forEach(key => {\n        feedbackForm.elements[key].value = localStorageData[key]\n    })\n}\n\nloadFeedbackForm()\n\nconst onFeedbackForm = ({ target: formField }) => {\n    const formFieldValue = formField.value\n    const formFieldName = formField.name\n    formData[formFieldName] = formFieldValue\n    try {\n        localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData))\n    } catch (error) {\n        console.log(error);\n    }\n\n}\n\nconst onFeedbackFormSubmit = (event) => {\n    event.preventDefault()\n\n    if (formData.email.trim() === '' || formData.message.trim() === '') {\n        return alert('Fill please all fields')\n    }\n\n    event.currentTarget.reset()\n\n    console.log(formData);\n\n    formData = {\n        email: \"\",\n        message: \"\",\n    };\n\n    localStorage.removeItem(\"feedback-form-state\")\n}\n\nfeedbackForm.addEventListener('input', onFeedbackForm)\nfeedbackForm.addEventListener('submit', onFeedbackFormSubmit)"],"names":["feedbackForm","formData","loadFeedbackForm","localStorageData","localStorageKeys","key","onFeedbackForm","formField","formFieldValue","formFieldName","error","onFeedbackFormSubmit","event"],"mappings":"wFAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EAE5D,IAAIC,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAEA,MAAMC,EAAmB,IAAM,CAC3B,MAAMC,EAAmB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAE/E,GAAIA,IAAqB,KAAM,OAC/B,MAAMC,EAAmB,OAAO,KAAKD,CAAgB,EAErDF,EAAW,CAAE,GAAGA,EAAU,GAAGE,CAAkB,EAE/CC,EAAiB,QAAQC,GAAO,CAC5BL,EAAa,SAASK,CAAG,EAAE,MAAQF,EAAiBE,CAAG,CAC/D,CAAK,CACL,EAEAH,EAAkB,EAElB,MAAMI,EAAiB,CAAC,CAAE,OAAQC,KAAgB,CAC9C,MAAMC,EAAiBD,EAAU,MAC3BE,EAAgBF,EAAU,KAChCN,EAASQ,CAAa,EAAID,EAC1B,GAAI,CACA,aAAa,QAAQ,sBAAuB,KAAK,UAAUP,CAAQ,CAAC,CACvE,OAAQS,EAAO,CACZ,QAAQ,IAAIA,CAAK,CACpB,CAEL,EAEMC,EAAwBC,GAAU,CAGpC,GAFAA,EAAM,eAAgB,EAElBX,EAAS,MAAM,SAAW,IAAMA,EAAS,QAAQ,KAAM,IAAK,GAC5D,OAAO,MAAM,wBAAwB,EAGzCW,EAAM,cAAc,MAAO,EAE3B,QAAQ,IAAIX,CAAQ,EAEpBA,EAAW,CACP,MAAO,GACP,QAAS,EACjB,EAEI,aAAa,WAAW,qBAAqB,CACjD,EAEAD,EAAa,iBAAiB,QAASM,CAAc,EACrDN,EAAa,iBAAiB,SAAUW,CAAoB"}